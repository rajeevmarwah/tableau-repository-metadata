SELECT "workbooks"."id" AS "id",
  "workbooks"."name" AS "name",
  CAST("workbooks"."repository_url" AS TEXT) AS "repository_url",
  CAST("workbooks"."description" AS TEXT) AS "description",
  "workbooks"."created_at" AS "created_at",
  "workbooks"."updated_at" AS "updated_at",
  "workbooks"."owner_id" AS "owner_id",
  "workbooks"."project_id" AS "project_id",
  "workbooks"."view_count" AS "view_count",
  "workbooks"."size" AS "size",
  CAST("workbooks"."embedded" AS TEXT) AS "embedded",
  "workbooks"."thumb_user" AS "thumb_user",
  "workbooks"."refreshable_extracts" AS "refreshable_extracts",
  "workbooks"."extracts_refreshed_at" AS "extracts_refreshed_at",
  "workbooks"."lock_version" AS "lock_version",
  "workbooks"."state" AS "state",
  "workbooks"."version" AS "version",
  "workbooks"."checksum" AS "checksum",
  "workbooks"."display_tabs" AS "display_tabs",
  "workbooks"."data_engine_extracts" AS "data_engine_extracts",
  "workbooks"."incrementable_extracts" AS "incrementable_extracts",
  "workbooks"."site_id" AS "site_id",
  "workbooks"."revision" AS "revision",
  "workbooks"."repository_data_id" AS "repository_data_id",
  "workbooks"."repository_extract_data_id" AS "repository_extract_data_id",
  "workbooks"."first_published_at" AS "first_published_at",
  "workbooks"."primary_content_url" AS "primary_content_url",
  "workbooks"."share_description" AS "share_description",
  "workbooks"."show_toolbar" AS "show_toolbar",
  "workbooks"."extracts_incremented_at" AS "extracts_incremented_at",
  "workbooks"."default_view_index" AS "default_view_index",
  "workbooks"."luid" AS "luid",
  "workbooks"."asset_key_id" AS "asset_key_id",
  "workbooks"."document_version" AS "document_version",
  "workbooks"."content_version" AS "content_version",
  "workbooks"."last_published_at" AS "last_published_at",
  "workbooks"."data_id" AS "data_id",
  "workbooks"."reduced_data_id" AS "reduced_data_id",
  "workbooks"."published_all_sheets" AS "published_all_sheets",
  "workbooks"."extract_encryption_state" AS "extract_encryption_state",
  "workbooks"."extract_creation_pending" AS "extract_creation_pending",
  "data_connections"."id" AS "id (data_connections)",
  CAST("data_connections"."server" AS TEXT) AS "server",
  "data_connections"."dbclass" AS "dbclass",
  "data_connections"."port" AS "port",
  CAST("data_connections"."username" AS TEXT) AS "username",
  "data_connections"."password" AS "password",
  "data_connections"."name" AS "name (data_connections)",
  "data_connections"."dbname" AS "dbname",
  "data_connections"."tablename" AS "tablename",
  "data_connections"."owner_type" AS "owner_type",
  "data_connections"."owner_id" AS "owner_id (data_connections)",
  "data_connections"."created_at" AS "created_at (data_connections)",
  "data_connections"."updated_at" AS "updated_at (data_connections)",
  "data_connections"."caption" AS "caption",
  "data_connections"."site_id" AS "site_id (data_connections)",
  CAST("data_connections"."keychain" AS TEXT) AS "keychain",
  "data_connections"."luid" AS "luid (data_connections)",
  "data_connections"."has_extract" AS "has_extract",
  "data_connections"."datasource_id" AS "datasource_id",
  "data_connections"."db_subclass" AS "db_subclass",
  "data_connections"."authentication" AS "authentication",
  "projects"."id" AS "id (projects)",
  "projects"."name" AS "name (projects)",
  "projects"."owner_id" AS "owner_id (projects)",
  "projects"."created_at" AS "created_at (projects)",
  "projects"."updated_at" AS "updated_at (projects)",
  "projects"."state" AS "state (projects)",
  CAST("projects"."description" AS TEXT) AS "description (projects)",
  "projects"."site_id" AS "site_id (projects)",
  "projects"."special" AS "special",
  "projects"."luid" AS "luid (projects)",
  "projects"."controlled_permissions_enabled" AS "controlled_permissions_enabled",
  "projects"."parent_project_id" AS "parent_project_id",
  "projects"."admin_insights_enabled" AS "admin_insights_enabled",
  "sites"."id" AS "id (sites)",
  "sites"."name" AS "name (sites)",
  "sites"."url_namespace" AS "url_namespace",
  "sites"."status" AS "status",
  "sites"."created_at" AS "created_at (sites)",
  "sites"."updated_at" AS "updated_at (sites)",
  "sites"."user_quota" AS "user_quota",
  "sites"."content_admin_mode" AS "content_admin_mode",
  "sites"."storage_quota" AS "storage_quota",
  "sites"."metrics_level" AS "metrics_level",
  "sites"."status_reason" AS "status_reason",
  "sites"."subscriptions_enabled" AS "subscriptions_enabled",
  CAST("sites"."custom_subscription_footer" AS TEXT) AS "custom_subscription_footer",
  CAST("sites"."custom_subscription_email" AS TEXT) AS "custom_subscription_email",
  "sites"."luid" AS "luid (sites)",
  "sites"."query_limit" AS "query_limit",
  "sites"."authoring_disabled" AS "authoring_disabled",
  "sites"."sheet_image_enabled" AS "sheet_image_enabled",
  "sites"."refresh_token_setting" AS "refresh_token_setting",
  "sites"."version_history_enabled" AS "version_history_enabled",
  "sites"."notification_enabled" AS "notification_enabled",
  "sites"."content_version_limit" AS "content_version_limit",
  "sites"."subscribe_others_enabled" AS "subscribe_others_enabled",
  "sites"."lock_version" AS "lock_version (sites)",
  "sites"."guest_access_enabled" AS "guest_access_enabled",
  "sites"."support_access_enabled" AS "support_access_enabled",
  "sites"."cache_warmup_enabled" AS "cache_warmup_enabled",
  "sites"."cache_warmup_threshold" AS "cache_warmup_threshold",
  "sites"."data_alerts_enabled" AS "data_alerts_enabled",
  "sites"."allow_live_query_sync" AS "allow_live_query_sync",
  "sites"."commenting_enabled" AS "commenting_enabled",
  "sites"."self_service_schedules_enabled" AS "self_service_schedules_enabled",
  "sites"."tier_interactor_capacity" AS "tier_interactor_capacity",
  "sites"."tier_basic_user_capacity" AS "tier_basic_user_capacity",
  "sites"."tier_author_capacity" AS "tier_author_capacity",
  "sites"."viz_in_tooltip_enabled" AS "viz_in_tooltip_enabled",
  "sites"."protocol_cache_lifetime" AS "protocol_cache_lifetime",
  "sites"."protocol_group_size_limit" AS "protocol_group_size_limit",
  "sites"."commenting_mentions_enabled" AS "commenting_mentions_enabled",
  "sites"."mixed_content_enabled" AS "mixed_content_enabled",
  "sites"."site_invite_notification_enabled" AS "site_invite_notification_enabled",
  "sites"."extract_encryption_mode" AS "extract_encryption_mode",
  "sites"."flows_enabled" AS "flows_enabled",
  "sites"."materialized_views_enabled" AS "materialized_views_enabled",
  "sites"."allow_subscriptions_attach_pdf" AS "allow_subscriptions_attach_pdf",
  "sites"."materialized_views_mode" AS "materialized_views_mode",
  CAST("sites"."start_page_uri" AS TEXT) AS "start_page_uri",
  "sites"."afe_enabled" AS "afe_enabled",
  "sites"."sandbox_enabled" AS "sandbox_enabled",
  "sites"."viz_recs_enabled" AS "viz_recs_enabled",
  "sites"."biometrics_mobile_enabled" AS "biometrics_mobile_enabled",
  "sites"."iba_enabled" AS "iba_enabled",
  "sites"."named_sharing_enabled" AS "named_sharing_enabled",
  "sites"."sandbox_storage_quota" AS "sandbox_storage_quota",
  "sites"."sandbox_datasources_enabled" AS "sandbox_datasources_enabled",
  "sites"."sandbox_flows_enabled" AS "sandbox_flows_enabled",
  "datasources"."id" AS "id (datasources)",
  "datasources"."name" AS "name (datasources)",
  CAST("datasources"."repository_url" AS TEXT) AS "repository_url (datasources)",
  "datasources"."owner_id" AS "owner_id (datasources)",
  "datasources"."created_at" AS "created_at (datasources)",
  "datasources"."updated_at" AS "updated_at (datasources)",
  "datasources"."project_id" AS "project_id (datasources)",
  "datasources"."size" AS "size (datasources)",
  "datasources"."lock_version" AS "lock_version (datasources)",
  "datasources"."state" AS "state (datasources)",
  CAST("datasources"."db_class" AS TEXT) AS "db_class",
  CAST("datasources"."db_name" AS TEXT) AS "db_name",
  CAST("datasources"."table_name" AS TEXT) AS "table_name",
  "datasources"."site_id" AS "site_id (datasources)",
  "datasources"."revision" AS "revision (datasources)",
  "datasources"."repository_data_id" AS "repository_data_id (datasources)",
  "datasources"."repository_extract_data_id" AS "repository_extract_data_id (datasources)",
  CAST("datasources"."embedded" AS TEXT) AS "embedded (datasources)",
  "datasources"."incrementable_extracts" AS "incrementable_extracts (datasources)",
  "datasources"."refreshable_extracts" AS "refreshable_extracts (datasources)",
  "datasources"."data_engine_extracts" AS "data_engine_extracts (datasources)",
  "datasources"."extracts_refreshed_at" AS "extracts_refreshed_at (datasources)",
  "datasources"."first_published_at" AS "first_published_at (datasources)",
  "datasources"."connectable" AS "connectable",
  "datasources"."is_hierarchical" AS "is_hierarchical",
  "datasources"."extracts_incremented_at" AS "extracts_incremented_at (datasources)",
  "datasources"."luid" AS "luid (datasources)",
  "datasources"."asset_key_id" AS "asset_key_id (datasources)",
  "datasources"."document_version" AS "document_version (datasources)",
  CAST("datasources"."description" AS TEXT) AS "description (datasources)",
  "datasources"."content_version" AS "content_version (datasources)",
  "datasources"."parent_workbook_id" AS "parent_workbook_id",
  "datasources"."hidden_name" AS "hidden_name",
  "datasources"."last_published_at" AS "last_published_at (datasources)",
  "datasources"."data_id" AS "data_id (datasources)",
  "datasources"."reduced_data_id" AS "reduced_data_id (datasources)",
  "datasources"."remote_query_agent_id" AS "remote_query_agent_id",
  "datasources"."using_remote_query_agent" AS "using_remote_query_agent",
  "datasources"."is_certified" AS "is_certified",
  CAST("datasources"."certification_note" AS TEXT) AS "certification_note",
  "datasources"."certifier_user_id" AS "certifier_user_id",
  CAST("datasources"."certifier_details" AS TEXT) AS "certifier_details",
  "datasources"."extract_encryption_state" AS "extract_encryption_state (datasources)",
  CAST("datasources"."nlp_setting" AS TEXT) AS "nlp_setting",
  "datasources"."extract_creation_pending" AS "extract_creation_pending (datasources)",
  "users"."id" AS "id (users)",
  "users"."login_at" AS "login_at",
  "users"."nonce" AS "nonce",
  "users"."row_limit" AS "row_limit",
  "users"."storage_limit" AS "storage_limit",
  "users"."created_at" AS "created_at (users)",
  "users"."extracts_required" AS "extracts_required",
  "users"."updated_at" AS "updated_at (users)",
  "users"."raw_data_suppressor_tristate" AS "raw_data_suppressor_tristate",
  "users"."site_id" AS "site_id (users)",
  "users"."system_user_id" AS "system_user_id",
  "users"."system_admin_auto" AS "system_admin_auto",
  "users"."luid" AS "luid (users)",
  "users"."lock_version" AS "lock_version (users)",
  "users"."site_role_id" AS "site_role_id",
  "system_users"."id" AS "id (system_users)",
  "system_users"."name" AS "name (system_users)",
  "system_users"."email" AS "email",
  "system_users"."hashed_password" AS "hashed_password",
  "system_users"."salt" AS "salt",
  "system_users"."sys" AS "sys",
  CAST("system_users"."keychain" AS TEXT) AS "keychain (system_users)",
  "system_users"."domain_id" AS "domain_id",
  "system_users"."friendly_name" AS "friendly_name",
  "system_users"."custom_display_name" AS "custom_display_name",
  "system_users"."activation_code" AS "activation_code",
  "system_users"."activated_at" AS "activated_at",
  "system_users"."state" AS "state (system_users)",
  "system_users"."admin_level" AS "admin_level",
  "system_users"."created_at" AS "created_at (system_users)",
  "system_users"."updated_at" AS "updated_at (system_users)",
  "system_users"."deleted_at" AS "deleted_at",
  "system_users"."auth_user_id" AS "auth_user_id",
  "system_users"."asset_key_id" AS "asset_key_id (system_users)",
  "system_users"."lock_version" AS "lock_version (system_users)",
  "system_users"."last_password_update" AS "last_password_update",
  "system_users"."force_password_update" AS "force_password_update",
  "system_users"."protected_password" AS "protected_password",
  "system_users"."last_failed_login" AS "last_failed_login",
  "system_users"."failed_login_attempts" AS "failed_login_attempts"
FROM "public"."workbooks" "workbooks"
  INNER JOIN "public"."data_connections" "data_connections" ON (("workbooks"."id" = "data_connections"."owner_id") AND ("workbooks"."id" <> "data_connections"."datasource_id"))
  INNER JOIN "public"."projects" "projects" ON ("workbooks"."project_id" = "projects"."id")
  INNER JOIN "public"."sites" "sites" ON (("data_connections"."site_id" = "sites"."id") AND ("projects"."site_id" = "sites"."id") AND ("workbooks"."site_id" = "sites"."id"))
  INNER JOIN "public"."datasources" "datasources" ON (("data_connections"."datasource_id" = "datasources"."id") AND ("projects"."id" = "datasources"."project_id"))
  INNER JOIN "public"."users" "users" ON ("workbooks"."owner_id" = "users"."id")
  INNER JOIN "public"."system_users" "system_users" ON ("users"."system_user_id" = "system_users"."id")
